2022-01-26 11:05:48.382  INFO 12040 --- [main] c.example.SpringbootExampleApplication   : Starting SpringbootExampleApplication using Java 1.8.0_261 on A-MB-000380 with PID 12040 (D:\programs\springboot-example\target\classes started by 2948 in D:\programs\springboot-example)
2022-01-26 11:05:48.390 DEBUG 12040 --- [main] c.example.SpringbootExampleApplication   : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-01-26 11:05:48.391  INFO 12040 --- [main] c.example.SpringbootExampleApplication   : The following profiles are active: dev
2022-01-26 11:05:49.740  INFO 12040 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2022-01-26 11:05:49.744  INFO 12040 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-01-26 11:05:49.777  INFO 12040 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2022-01-26 11:05:49.925  WARN 12040 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'fileMapper' and 'com.example.mapper.FileMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 11:05:49.925  WARN 12040 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'roleMapper' and 'com.example.mapper.RoleMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 11:05:49.925  WARN 12040 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.example.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 11:05:49.925  WARN 12040 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.example.mapper]' package. Please check your configuration.
2022-01-26 11:05:50.658  INFO 12040 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)
2022-01-26 11:05:50.672  INFO 12040 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-01-26 11:05:50.672  INFO 12040 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-01-26 11:05:50.675  WARN 12040 --- [main] o.a.catalina.core.AprLifecycleListener   : This listener must only be nested within Server elements, but is in [TomcatEmbeddedContext].
2022-01-26 11:05:50.675  INFO 12040 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].
2022-01-26 11:05:50.675  INFO 12040 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2022-01-26 11:05:50.675  INFO 12040 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2022-01-26 11:05:50.689  INFO 12040 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1l  24 Aug 2021]
2022-01-26 11:05:50.764  INFO 12040 --- [main] o.a.c.c.C.[.[.[/springboot-service]      : Initializing Spring embedded WebApplicationContext
2022-01-26 11:05:50.764  INFO 12040 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2327 ms
2022-01-26 11:05:52.612  INFO 12040 --- [main] com.example.config.ExecutorConfig        : start asyncServiceExecutor
2022-01-26 11:05:52.628  WARN 12040 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Property 'mapperLocations' was specified but matching resources are not found.
2022-01-26 11:05:53.660  INFO 12040 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8888 (http) with context path '/springboot-service'
2022-01-26 11:05:53.849  INFO 12040 --- [http-nio-8888-exec-1] o.a.c.c.C.[.[.[/springboot-service]      : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-01-26 11:05:53.850  INFO 12040 --- [http-nio-8888-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-01-26 11:05:53.852  INFO 12040 --- [http-nio-8888-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-01-26 11:05:53.922  INFO 12040 --- [http-nio-8888-exec-2] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 11:05:53.922  INFO 12040 --- [http-nio-8888-exec-1] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 11:05:53.922  INFO 12040 --- [http-nio-8888-exec-2] c.example.service.impl.WebSocketService  : 用户连接:6,当前在线人数为:2
2022-01-26 11:05:53.922  INFO 12040 --- [http-nio-8888-exec-1] c.example.service.impl.WebSocketService  : 用户连接:6,当前在线人数为:2
2022-01-26 11:05:53.932  INFO 12040 --- [http-nio-8888-exec-3] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 11:05:53.933  INFO 12040 --- [http-nio-8888-exec-3] c.example.service.impl.WebSocketService  : 用户连接:6,当前在线人数为:2
2022-01-26 11:05:54.082  INFO 12040 --- [main] c.example.SpringbootExampleApplication   : Started SpringbootExampleApplication in 6.215 seconds (JVM running for 16.853)
2022-01-26 11:06:03.657  INFO 12040 --- [http-nio-8888-exec-4] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 11:06:03.658  INFO 12040 --- [http-nio-8888-exec-4] c.example.service.impl.WebSocketService  : 用户连接:6,当前在线人数为:2
2022-01-26 11:07:04.375  WARN 12040 --- [http-nio-8888-exec-5] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2022-01-26 11:07:04.377  INFO 12040 --- [http-nio-8888-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-01-26 11:07:04.690  INFO 12040 --- [http-nio-8888-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-01-26 11:07:04.698 DEBUG 12040 --- [http-nio-8888-exec-5] c.example.mapper.UserMapper.selectUsers  : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user
2022-01-26 11:07:04.725 DEBUG 12040 --- [http-nio-8888-exec-5] c.example.mapper.UserMapper.selectUsers  : ==> Parameters: 
2022-01-26 11:07:04.758 DEBUG 12040 --- [http-nio-8888-exec-5] c.example.mapper.UserMapper.selectUsers  : <==      Total: 3
2022-01-26 11:07:04.764 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 11:07:04.765 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 6(Integer)
2022-01-26 11:07:04.775 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 11:07:04.776 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 11:07:04.776 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 8(Integer)
2022-01-26 11:07:04.785 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 11:07:04.785 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 11:07:04.786 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 13(Integer)
2022-01-26 11:07:04.797 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 11:13:02.563 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.mapper.RoleMapper.selectAllRoles     : ==>  Preparing: select * from ex_role
2022-01-26 11:13:02.564 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.mapper.RoleMapper.selectAllRoles     : ==> Parameters: 
2022-01-26 11:13:02.573 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.mapper.RoleMapper.selectAllRoles     : <==      Total: 4
2022-01-26 11:13:49.232 DEBUG 12040 --- [http-nio-8888-exec-7] c.example.mapper.UserMapper.selectUsers  : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user
2022-01-26 11:13:49.233 DEBUG 12040 --- [http-nio-8888-exec-7] c.example.mapper.UserMapper.selectUsers  : ==> Parameters: 
2022-01-26 11:13:49.245 DEBUG 12040 --- [http-nio-8888-exec-7] c.example.mapper.UserMapper.selectUsers  : <==      Total: 3
2022-01-26 11:13:49.246 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 11:13:49.247 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 6(Integer)
2022-01-26 11:13:49.255 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 11:13:49.256 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 11:13:49.256 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 8(Integer)
2022-01-26 11:13:49.266 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 11:13:49.267 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 11:13:49.267 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 13(Integer)
2022-01-26 11:13:49.280 DEBUG 12040 --- [http-nio-8888-exec-7] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:33:49.504 ERROR 12040 --- [http-nio-8888-exec-8] com.example.config.RestExceptionHandler  : token异常: 

com.example.exception.UnAuthorizationException: 登录信息过期
	at com.example.interceptor.TokenInterceptor.preHandle(TokenInterceptor.java:31) ~[classes/:na]
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1062) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931) [spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]

2022-01-26 15:33:53.277  INFO 12040 --- [http-nio-8888-exec-2] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 15:33:53.277  INFO 12040 --- [http-nio-8888-exec-1] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 15:33:53.277  INFO 12040 --- [http-nio-8888-exec-10] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 15:33:53.277  INFO 12040 --- [http-nio-8888-exec-9] c.example.service.impl.WebSocketService  : ----------------------------------------------------------------------------
2022-01-26 15:33:53.278  INFO 12040 --- [http-nio-8888-exec-2] c.example.service.impl.WebSocketService  : 6用户退出,当前在线人数为:2
2022-01-26 15:33:53.278  INFO 12040 --- [http-nio-8888-exec-1] c.example.service.impl.WebSocketService  : 6用户退出,当前在线人数为:2
2022-01-26 15:33:53.278  INFO 12040 --- [http-nio-8888-exec-9] c.example.service.impl.WebSocketService  : 6用户退出,当前在线人数为:2
2022-01-26 15:33:53.278  INFO 12040 --- [http-nio-8888-exec-10] c.example.service.impl.WebSocketService  : 6用户退出,当前在线人数为:2
2022-01-26 15:34:06.935 DEBUG 12040 --- [http-nio-8888-exec-3] c.e.m.UserMapper.selectUserByUsername    : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE username=?
2022-01-26 15:34:06.937 DEBUG 12040 --- [http-nio-8888-exec-3] c.e.m.UserMapper.selectUserByUsername    : ==> Parameters: developer(String)
2022-01-26 15:34:06.952 DEBUG 12040 --- [http-nio-8888-exec-3] c.e.m.UserMapper.selectUserByUsername    : <==      Total: 1
2022-01-26 15:34:06.955 DEBUG 12040 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:34:06.955 DEBUG 12040 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 6(Integer)
2022-01-26 15:34:06.966 DEBUG 12040 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:34:06.999 DEBUG 12040 --- [http-nio-8888-exec-4] c.e.mapper.UserMapper.selectUserById     : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE id=?
2022-01-26 15:34:07.000 DEBUG 12040 --- [http-nio-8888-exec-4] c.e.mapper.UserMapper.selectUserById     : ==> Parameters: 6(Integer)
2022-01-26 15:34:07.013 DEBUG 12040 --- [http-nio-8888-exec-4] c.e.mapper.UserMapper.selectUserById     : <==      Total: 1
2022-01-26 15:34:07.013 DEBUG 12040 --- [http-nio-8888-exec-4] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:34:07.014 DEBUG 12040 --- [http-nio-8888-exec-4] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 6(Integer)
2022-01-26 15:34:07.023 DEBUG 12040 --- [http-nio-8888-exec-4] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:34:07.826 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.mapper.UserMapper.selectUsers_COUNT  : ==>  Preparing: SELECT count(0) FROM ex_user
2022-01-26 15:34:07.827 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.mapper.UserMapper.selectUsers_COUNT  : ==> Parameters: 
2022-01-26 15:34:07.837 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.mapper.UserMapper.selectUsers_COUNT  : <==      Total: 1
2022-01-26 15:34:07.840 DEBUG 12040 --- [http-nio-8888-exec-5] c.example.mapper.UserMapper.selectUsers  : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user LIMIT ?
2022-01-26 15:34:07.841 DEBUG 12040 --- [http-nio-8888-exec-5] c.example.mapper.UserMapper.selectUsers  : ==> Parameters: 10(Integer)
2022-01-26 15:34:07.863 DEBUG 12040 --- [http-nio-8888-exec-5] c.example.mapper.UserMapper.selectUsers  : <==      Total: 3
2022-01-26 15:34:07.864 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:34:07.865 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 6(Integer)
2022-01-26 15:34:07.878 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:34:07.880 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:34:07.881 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 8(Integer)
2022-01-26 15:34:07.891 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:34:07.893 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:34:07.894 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 13(Integer)
2022-01-26 15:34:07.909 DEBUG 12040 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:34:15.776 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.mapper.UserMapper.selectUserById     : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE id=?
2022-01-26 15:34:15.776 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.mapper.UserMapper.selectUserById     : ==> Parameters: 6(Integer)
2022-01-26 15:34:15.786 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.mapper.UserMapper.selectUserById     : <==      Total: 1
2022-01-26 15:34:15.787 DEBUG 12040 --- [http-nio-8888-exec-6] c.example.mapper.UserMapper.deleteUser   : ==>  Preparing: delete from ex_user where id=?
2022-01-26 15:34:15.787 DEBUG 12040 --- [http-nio-8888-exec-6] c.example.mapper.UserMapper.deleteUser   : ==> Parameters: 6(Integer)
2022-01-26 15:34:15.809 DEBUG 12040 --- [http-nio-8888-exec-6] c.example.mapper.UserMapper.deleteUser   : <==    Updates: 1
2022-01-26 15:34:15.810 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.m.UserMapper.deleteRoleIdByUserId    : ==>  Preparing: delete from ex_role_user where userId=?
2022-01-26 15:34:15.810 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.m.UserMapper.deleteRoleIdByUserId    : ==> Parameters: 6(Integer)
2022-01-26 15:34:15.832 DEBUG 12040 --- [http-nio-8888-exec-6] c.e.m.UserMapper.deleteRoleIdByUserId    : <==    Updates: 1
2022-01-26 15:37:49.263  INFO 12040 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-01-26 15:37:49.263  INFO 12040 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-01-26 15:38:00.599  INFO 3960 --- [main] c.example.SpringbootExampleApplication   : Starting SpringbootExampleApplication using Java 1.8.0_261 on A-MB-000380 with PID 3960 (D:\programs\springboot-example\target\classes started by 2948 in D:\programs\springboot-example)
2022-01-26 15:38:00.599 DEBUG 3960 --- [main] c.example.SpringbootExampleApplication   : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-01-26 15:38:00.599  INFO 3960 --- [main] c.example.SpringbootExampleApplication   : The following profiles are active: dev
2022-01-26 15:38:01.775  INFO 3960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2022-01-26 15:38:01.775  INFO 3960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-01-26 15:38:01.806  INFO 3960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2022-01-26 15:38:01.949  WARN 3960 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'fileMapper' and 'com.example.mapper.FileMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 15:38:01.949  WARN 3960 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'roleMapper' and 'com.example.mapper.RoleMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 15:38:01.949  WARN 3960 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.example.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 15:38:01.949  WARN 3960 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.example.mapper]' package. Please check your configuration.
2022-01-26 15:38:02.575  INFO 3960 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)
2022-01-26 15:38:02.591  INFO 3960 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-01-26 15:38:02.591  INFO 3960 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-01-26 15:38:02.591  WARN 3960 --- [main] o.a.catalina.core.AprLifecycleListener   : This listener must only be nested within Server elements, but is in [TomcatEmbeddedContext].
2022-01-26 15:38:02.591  INFO 3960 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].
2022-01-26 15:38:02.591  INFO 3960 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2022-01-26 15:38:02.591  INFO 3960 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2022-01-26 15:38:02.591  INFO 3960 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1l  24 Aug 2021]
2022-01-26 15:38:02.689  INFO 3960 --- [main] o.a.c.c.C.[.[.[/springboot-service]      : Initializing Spring embedded WebApplicationContext
2022-01-26 15:38:02.690  INFO 3960 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2040 ms
2022-01-26 15:38:04.265  INFO 3960 --- [main] com.example.config.ExecutorConfig        : start asyncServiceExecutor
2022-01-26 15:38:04.280  WARN 3960 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Property 'mapperLocations' was specified but matching resources are not found.
2022-01-26 15:38:05.125  INFO 3960 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8888 (http) with context path '/springboot-service'
2022-01-26 15:38:05.508  INFO 3960 --- [main] c.example.SpringbootExampleApplication   : Started SpringbootExampleApplication in 5.275 seconds (JVM running for 15.472)
2022-01-26 15:39:52.257  INFO 3960 --- [http-nio-8888-exec-1] o.a.c.c.C.[.[.[/springboot-service]      : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-01-26 15:39:52.258  INFO 3960 --- [http-nio-8888-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-01-26 15:39:52.259  INFO 3960 --- [http-nio-8888-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-01-26 15:39:52.468  WARN 3960 --- [http-nio-8888-exec-1] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2022-01-26 15:39:52.470  INFO 3960 --- [http-nio-8888-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-01-26 15:39:52.761  INFO 3960 --- [http-nio-8888-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-01-26 15:39:52.767 DEBUG 3960 --- [http-nio-8888-exec-1] c.e.m.UserMapper.selectUserByUsername    : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE username=?
2022-01-26 15:39:52.792 DEBUG 3960 --- [http-nio-8888-exec-1] c.e.m.UserMapper.selectUserByUsername    : ==> Parameters: developer(String)
2022-01-26 15:39:52.817 DEBUG 3960 --- [http-nio-8888-exec-1] c.e.m.UserMapper.selectUserByUsername    : <==      Total: 0
2022-01-26 15:40:32.513 DEBUG 3960 --- [http-nio-8888-exec-3] c.e.m.UserMapper.selectUserByUsername    : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE username=?
2022-01-26 15:40:32.513 DEBUG 3960 --- [http-nio-8888-exec-3] c.e.m.UserMapper.selectUserByUsername    : ==> Parameters: developer(String)
2022-01-26 15:40:32.522 DEBUG 3960 --- [http-nio-8888-exec-3] c.e.m.UserMapper.selectUserByUsername    : <==      Total: 0
2022-01-26 15:40:32.523 DEBUG 3960 --- [http-nio-8888-exec-3] c.example.mapper.UserMapper.insertUser   : ==>  Preparing: insert into ex_user values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-01-26 15:40:32.527 DEBUG 3960 --- [http-nio-8888-exec-3] c.example.mapper.UserMapper.insertUser   : ==> Parameters: 0(Integer), developer(String), null, 3d5d1299d63de6d215c684caf0a352f3(String), developer:123(String), http://101.35.44.70:9000/file/2022-01/12/avatar.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=admin%2F20220112%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220112T144042Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=e6efec16cc952cec35826304598eac50b22b888b81ac24212c75a7e0fd7519bb(String), 0(Integer), 0(Long), 2022-01-26 15:40:32.502(Timestamp), 2022-01-26 15:40:32.502(Timestamp)
2022-01-26 15:40:32.620 ERROR 3960 --- [http-nio-8888-exec-3] com.example.config.RestExceptionHandler  : 500异常: 

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'nickname' cannot be null
### The error may exist in file [D:\programs\springboot-example\target\classes\mappers\UserMapper.xml]
### The error may involve com.example.mapper.UserMapper.insertUser-Inline
### The error occurred while setting parameters
### SQL: insert into ex_user values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'nickname' cannot be null
; Column 'nickname' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'nickname' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87) ~[spring-jdbc-5.3.14.jar:5.3.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.14.jar:5.3.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.14.jar:5.3.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91) ~[mybatis-spring-2.0.6.jar:2.0.6]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.6.jar:2.0.6]
	at com.sun.proxy.$Proxy123.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.0.6.jar:2.0.6]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.7.jar:3.5.7]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:145) ~[mybatis-3.5.7.jar:3.5.7]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.7.jar:3.5.7]
	at com.sun.proxy.$Proxy124.insertUser(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy125.insertUser(Unknown Source) ~[na:na]
	at com.example.service.impl.UserServiceImpl.userRegister(UserServiceImpl.java:67) ~[classes/:na]
	at com.example.controller.UserController.userRegister(UserController.java:96) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) [tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'nickname' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:371) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.7.jar:3.5.7]
	at com.sun.proxy.$Proxy183.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.7.jar:3.5.7]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.7.jar:3.5.7]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.7.jar:3.5.7]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.7.jar:3.5.7]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.7.jar:3.5.7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.7.jar:3.5.7]
	at com.sun.proxy.$Proxy181.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:194) ~[mybatis-3.5.7.jar:3.5.7]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:181) ~[mybatis-3.5.7.jar:3.5.7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427) ~[mybatis-spring-2.0.6.jar:2.0.6]
	... 69 common frames omitted

2022-01-26 15:40:54.595 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.selectUserByUsername    : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE username=?
2022-01-26 15:40:54.596 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.selectUserByUsername    : ==> Parameters: developer(String)
2022-01-26 15:40:54.605 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.selectUserByUsername    : <==      Total: 0
2022-01-26 15:40:54.606 DEBUG 3960 --- [http-nio-8888-exec-4] c.example.mapper.UserMapper.insertUser   : ==>  Preparing: insert into ex_user values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-01-26 15:40:54.607 DEBUG 3960 --- [http-nio-8888-exec-4] c.example.mapper.UserMapper.insertUser   : ==> Parameters: 0(Integer), developer(String), 开发者(String), 3d5d1299d63de6d215c684caf0a352f3(String), developer:123(String), http://101.35.44.70:9000/file/2022-01/12/avatar.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=admin%2F20220112%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220112T144042Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=e6efec16cc952cec35826304598eac50b22b888b81ac24212c75a7e0fd7519bb(String), 0(Integer), 0(Long), 2022-01-26 15:40:54.585(Timestamp), 2022-01-26 15:40:54.585(Timestamp)
2022-01-26 15:40:54.628 DEBUG 3960 --- [http-nio-8888-exec-4] c.example.mapper.UserMapper.insertUser   : <==    Updates: 1
2022-01-26 15:40:54.628 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.insertUser!selectKey    : ==>  Preparing: SELECT LAST_INSERT_ID()
2022-01-26 15:40:54.628 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.insertUser!selectKey    : ==> Parameters: 
2022-01-26 15:40:54.639 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.insertUser!selectKey    : <==      Total: 1
2022-01-26 15:40:54.641 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.insertRoleIdAndUserId   : ==>  Preparing: insert into ex_role_user values (?, ?)
2022-01-26 15:40:54.642 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.insertRoleIdAndUserId   : ==> Parameters: 14(Integer), 4(Integer)
2022-01-26 15:40:54.663 DEBUG 3960 --- [http-nio-8888-exec-4] c.e.m.UserMapper.insertRoleIdAndUserId   : <==    Updates: 1
2022-01-26 15:41:02.127 DEBUG 3960 --- [http-nio-8888-exec-5] c.e.m.UserMapper.selectUserByUsername    : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE username=?
2022-01-26 15:41:02.127 DEBUG 3960 --- [http-nio-8888-exec-5] c.e.m.UserMapper.selectUserByUsername    : ==> Parameters: developer(String)
2022-01-26 15:41:02.159 DEBUG 3960 --- [http-nio-8888-exec-5] c.e.m.UserMapper.selectUserByUsername    : <==      Total: 1
2022-01-26 15:41:02.160 DEBUG 3960 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:41:02.160 DEBUG 3960 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 14(Integer)
2022-01-26 15:41:02.171 DEBUG 3960 --- [http-nio-8888-exec-5] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:41:02.426 DEBUG 3960 --- [http-nio-8888-exec-6] c.e.mapper.UserMapper.selectUserById     : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE id=?
2022-01-26 15:41:02.426 DEBUG 3960 --- [http-nio-8888-exec-6] c.e.mapper.UserMapper.selectUserById     : ==> Parameters: 14(Integer)
2022-01-26 15:41:02.438 DEBUG 3960 --- [http-nio-8888-exec-6] c.e.mapper.UserMapper.selectUserById     : <==      Total: 1
2022-01-26 15:41:02.438 DEBUG 3960 --- [http-nio-8888-exec-6] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:41:02.439 DEBUG 3960 --- [http-nio-8888-exec-6] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 14(Integer)
2022-01-26 15:41:02.448 DEBUG 3960 --- [http-nio-8888-exec-6] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:43:18.414  INFO 3960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-01-26 15:43:18.418  INFO 3960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-01-26 15:43:29.856  INFO 19380 --- [main] c.example.SpringbootExampleApplication   : Starting SpringbootExampleApplication using Java 1.8.0_261 on A-MB-000380 with PID 19380 (D:\programs\springboot-example\target\classes started by 2948 in D:\programs\springboot-example)
2022-01-26 15:43:29.859 DEBUG 19380 --- [main] c.example.SpringbootExampleApplication   : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-01-26 15:43:29.860  INFO 19380 --- [main] c.example.SpringbootExampleApplication   : The following profiles are active: dev
2022-01-26 15:43:31.071  INFO 19380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2022-01-26 15:43:31.074  INFO 19380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-01-26 15:43:31.101  INFO 19380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2022-01-26 15:43:31.241  WARN 19380 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'fileMapper' and 'com.example.mapper.FileMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 15:43:31.242  WARN 19380 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'roleMapper' and 'com.example.mapper.RoleMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 15:43:31.242  WARN 19380 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.example.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2022-01-26 15:43:31.243  WARN 19380 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.example.mapper]' package. Please check your configuration.
2022-01-26 15:43:31.917  INFO 19380 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)
2022-01-26 15:43:31.931  INFO 19380 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-01-26 15:43:31.932  INFO 19380 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-01-26 15:43:31.934  WARN 19380 --- [main] o.a.catalina.core.AprLifecycleListener   : This listener must only be nested within Server elements, but is in [TomcatEmbeddedContext].
2022-01-26 15:43:31.934  INFO 19380 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].
2022-01-26 15:43:31.935  INFO 19380 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2022-01-26 15:43:31.935  INFO 19380 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2022-01-26 15:43:31.939  INFO 19380 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1l  24 Aug 2021]
2022-01-26 15:43:32.025  INFO 19380 --- [main] o.a.c.c.C.[.[.[/springboot-service]      : Initializing Spring embedded WebApplicationContext
2022-01-26 15:43:32.025  INFO 19380 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2126 ms
2022-01-26 15:43:33.652  INFO 19380 --- [main] com.example.config.ExecutorConfig        : start asyncServiceExecutor
2022-01-26 15:43:33.675  WARN 19380 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Property 'mapperLocations' was specified but matching resources are not found.
2022-01-26 15:43:34.549  INFO 19380 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8888 (http) with context path '/springboot-service'
2022-01-26 15:43:34.902  INFO 19380 --- [main] c.example.SpringbootExampleApplication   : Started SpringbootExampleApplication in 5.441 seconds (JVM running for 15.796)
2022-01-26 15:44:23.489  INFO 19380 --- [http-nio-8888-exec-1] o.a.c.c.C.[.[.[/springboot-service]      : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-01-26 15:44:23.490  INFO 19380 --- [http-nio-8888-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-01-26 15:44:23.491  INFO 19380 --- [http-nio-8888-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-01-26 15:44:23.741  WARN 19380 --- [http-nio-8888-exec-1] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2022-01-26 15:44:23.743  INFO 19380 --- [http-nio-8888-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-01-26 15:44:24.013  INFO 19380 --- [http-nio-8888-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-01-26 15:44:24.020 DEBUG 19380 --- [http-nio-8888-exec-1] c.e.m.UserMapper.selectUserByUsername    : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE username=?
2022-01-26 15:44:24.048 DEBUG 19380 --- [http-nio-8888-exec-1] c.e.m.UserMapper.selectUserByUsername    : ==> Parameters: developer(String)
2022-01-26 15:44:24.077 DEBUG 19380 --- [http-nio-8888-exec-1] c.e.m.UserMapper.selectUserByUsername    : <==      Total: 1
2022-01-26 15:44:24.083 DEBUG 19380 --- [http-nio-8888-exec-1] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:44:24.084 DEBUG 19380 --- [http-nio-8888-exec-1] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 14(Integer)
2022-01-26 15:44:24.092 DEBUG 19380 --- [http-nio-8888-exec-1] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:44:24.206 DEBUG 19380 --- [http-nio-8888-exec-2] c.e.mapper.UserMapper.selectUserById     : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE id=?
2022-01-26 15:44:24.207 DEBUG 19380 --- [http-nio-8888-exec-2] c.e.mapper.UserMapper.selectUserById     : ==> Parameters: 14(Integer)
2022-01-26 15:44:24.217 DEBUG 19380 --- [http-nio-8888-exec-2] c.e.mapper.UserMapper.selectUserById     : <==      Total: 1
2022-01-26 15:44:24.217 DEBUG 19380 --- [http-nio-8888-exec-2] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:44:24.218 DEBUG 19380 --- [http-nio-8888-exec-2] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 14(Integer)
2022-01-26 15:44:24.225 DEBUG 19380 --- [http-nio-8888-exec-2] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:44:32.004 DEBUG 19380 --- [http-nio-8888-exec-3] c.example.mapper.UserMapper.selectUsers  : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user
2022-01-26 15:44:32.005 DEBUG 19380 --- [http-nio-8888-exec-3] c.example.mapper.UserMapper.selectUsers  : ==> Parameters: 
2022-01-26 15:44:32.040 DEBUG 19380 --- [http-nio-8888-exec-3] c.example.mapper.UserMapper.selectUsers  : <==      Total: 3
2022-01-26 15:44:32.040 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:44:32.041 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 8(Integer)
2022-01-26 15:44:32.052 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:44:32.052 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:44:32.053 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 13(Integer)
2022-01-26 15:44:32.077 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:44:32.077 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==>  Preparing: select * from ex_role_user ur, ex_role r where ur.roleId = r.id and ur.userId = ?
2022-01-26 15:44:32.078 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : ==> Parameters: 14(Integer)
2022-01-26 15:44:32.088 DEBUG 19380 --- [http-nio-8888-exec-3] c.e.m.RoleMapper.selectRoleByUserId      : <==      Total: 1
2022-01-26 15:51:38.002 ERROR 19380 --- [http-nio-8888-exec-4] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/springboot-service] threw exception [Request processing failed; nested exception is UnAuthorizationException{code=406, message='token缺失'}] with root cause

com.example.exception.UnAuthorizationException: token缺失
	at com.example.interceptor.TokenInterceptor.preHandle(TokenInterceptor.java:27) ~[classes/:na]
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1062) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]

2022-01-26 15:51:38.011 ERROR 19380 --- [http-nio-8888-exec-4] com.example.config.RestExceptionHandler  : token异常: 

com.example.exception.UnAuthorizationException: token缺失
	at com.example.interceptor.TokenInterceptor.preHandle(TokenInterceptor.java:27) ~[classes/:na]
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1062) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) [tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) [spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]

2022-01-26 15:58:14.184 DEBUG 19380 --- [http-nio-8888-exec-5] c.e.mapper.UserMapper.selectUserById     : ==>  Preparing: select id, username, nickname, password, plain_password as plainPassword, avatarUrl, disabled, disabledTime, createTime, updateTime from ex_user WHERE id=?
2022-01-26 15:58:14.184 DEBUG 19380 --- [http-nio-8888-exec-5] c.e.mapper.UserMapper.selectUserById     : ==> Parameters: 14(Integer)
2022-01-26 15:58:14.193 DEBUG 19380 --- [http-nio-8888-exec-5] c.e.mapper.UserMapper.selectUserById     : <==      Total: 1
2022-01-26 15:58:25.492  INFO 19380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-01-26 15:58:25.498  INFO 19380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
